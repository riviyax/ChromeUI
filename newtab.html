<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>New Tab</title>
  <link rel="shortcut icon" href="assets/fav.ico" type="image/x-icon" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
  />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Background -->
  <div id="bg-container">
    <video id="bg-video" autoplay muted loop playsinline></video>
    <img id="bg-image" />
    <div id="overlay"></div>
  </div>

  <!-- Topbar -->
  <header class="topbar">
    <div class="brand"></div>
    <div class="right-controls">
      <button id="open-settings" class="btn"><i class="bi bi-gear"></i></button>
    </div>
  </header>

  <!-- Main Dashboard -->
  <main class="dashboard">
    <!-- Left Panel -->
    <div class="left-panel">
      <div class="clock" id="clock">--:--</div>
      <div class="greeting" id="greeting">Good day</div>

      <div class="search-card">
        <input id="search" placeholder="Search Google or type a URL" />
      </div>

      <div class="quick-links" id="quick-links"></div>

      <!-- To-Do List -->
      <div class="todo-card">
        <h3>To-Do List</h3>
        <div class="todo-input-group">
          <input type="text" id="todo-input" placeholder="Add a new task..." />
          <button id="add-todo-btn" class="btn todo-add-btn">Add</button>
        </div>
        <ul id="todo-list"></ul>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="right-panel">
      <!-- Background Controls -->
      <div id="bg-controll" class="controls-card">
        <div class="controls-row">
          <button id="toggle-play" class="control"><i class="bi bi-pause"></i></button>
          <button id="prev-bg" class="control"><i class="bi bi-arrow-left-short"></i></button>
          <button id="next-bg" class="control"><i class="bi bi-arrow-right-short"></i></button>
        </div>
        <div class="label">Background</div>
        <div id="current-bg-name" class="muted">Default</div>
      </div>

      <!-- Spotify Player -->
      <div class="spotify-card">
        <iframe
          id="spotify-player"
          style="border-radius: 12px"
          src="https://open.spotify.com/embed/playlist/37i9dQZF1DWYfNJLV7OBMA?utm_source=generator"
          width="100%"
          height="352"
          frameborder="0"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy"
        ></iframe>
        <div class="spotify-controls" style="margin-top: 10px; text-align: center;">
          <button id="spotify-prev" class="control"><i class="bi bi-arrow-left-short"></i></button>
          <button id="spotify-next" class="control"><i class="bi bi-arrow-right-short"></i></button>
        </div>
      </div>
    </div>
  </main>

  <!-- Settings Dialog -->
  <dialog id="settings" class="dialog">
    <form method="dialog" id="settings-form">
      <h3>Customize Background</h3>

      <!-- Slideshow Settings -->
      <div class="field">
        <label>Slideshow</label>
        <div style="display: flex; gap: 12px; align-items: center;">
          <label style="display: flex; gap: 8px; align-items: center;">
            <input id="slideshow-enable" type="checkbox" /> Enable slideshow
          </label>
          <label style="display: flex; gap: 8px; align-items: center;">
            Interval (sec):
            <input id="slideshow-interval" type="number" min="3" value="8" style="width: 70px" />
          </label>
        </div>
      </div>

      <hr />

      <!-- Toggle Tabs -->
      <div class="field">
        <label>Toggle Tabs</label>
        <div style="display: flex; gap: 12px; align-items: center;">
          <label style="display: flex; gap: 8px; align-items: center;">
            <input id="bg-toggle" type="checkbox" /> Hide BG Player
          </label>
          <label style="display: flex; gap: 8px; align-items: center;">
            <input id="spotify-toggle" type="checkbox" /> Hide Spotify Player
          </label>
        </div>
      </div>

      <hr />

      <!-- Default Images/Videos -->
      <div class="field">
        <label>Choose default image</label>
        <select id="image-select">
          <option value="">(none)</option>
        </select>
      </div>

      <div class="field">
        <label>Choose default video</label>
        <select id="video-select">
          <option value="">(none)</option>
        </select>
      </div>

      <div class="field">
        <label>Or upload image/video</label>
        <input id="file-input" type="file" accept="image/*,video/*" />
      </div>

      <hr />

      <!-- Quick Links -->
      <h4>Quick links</h4>
      <div class="field">
        <label>Add / edit quick links (title + URL)</label>
        <div style="display: flex; gap: 8px; margin-bottom: 8px;">
          <input id="quick-title" placeholder="Title (e.g. GitHub)" style="flex:1" />
          <input id="quick-url" placeholder="https://..." style="flex:2" class="urlAdd" />
          <button id="add-quick" type="button" class="btn">Add</button>
        </div>
        <div
          id="quick-list-editor"
          style="display: flex; flex-direction: column; gap: 6px; max-height: 160px; overflow: auto;"
        ></div>
      </div>

      <!-- Music Settings -->
      <h4>Music</h4>
      <div class="field">
        <label>Choose packaged music</label>
        <select id="music-select">
          <option value="">(none)</option>
        </select>
      </div>

      <div class="field">
        <label>Or upload audio file</label>
        <input id="audio-input" type="file" accept="audio/*" />
      </div>

      <!-- Overlay Darkness -->
      <div class="field">
        <label>Overlay darkness (0 - 1)</label>
        <input id="overlay-range" type="range" min="0" max="1" step="0.05" value="0.45" />
      </div>

      <menu>
        <button id="save-btn" type="submit">Save</button>
        <button id="close-btn" type="button">Close</button>
        <p class="footerText">Made with â™¥ by Riviya_X</p>
      </menu>
    </form>
  </dialog>

  <!-- Music Control -->
  <div id="music-control" class="music-control" style="display:flex; align-items:center; gap:6px;">
    <button id="music-play" class="control" style="display:inline-flex; align-items:center; justify-content:center; padding:4px 6px;">
      <i class="bi bi-play" style="font-size:18px; line-height:1; display:inline-block;"></i>
    </button>
    <button id="music-prev" class="control" style="display:inline-flex; align-items:center; justify-content:center; padding:4px 6px;">
      <i class="bi bi-arrow-left-short" style="font-size:18px; line-height:1; display:inline-block;"></i>
    </button>
    <button id="music-next" class="control" style="display:inline-flex; align-items:center; justify-content:center; padding:4px 6px;">
      <i class="bi bi-arrow-right-short" style="font-size:18px; line-height:1; display:inline-block;"></i>
    </button>
    <div id="music-title" style="font-size:12px; margin-top:6px; color:var(--muted); max-width:220px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"></div>
  </div>

  <audio id="audio-player" preload="auto"></audio>

  <script src="newtab.js"></script>
  <script src="todo.js"></script>
</body>
</html>
